var TenTweets=function(){var e,t,n,r,d,a=function(){e=document.querySelector(".twitter"),null!==e&&(t=e.querySelector(".twitter__search-input"),n=e.querySelector(".twitter__search-button"),r=e.querySelector(".twitter__tweet-container"),n.addEventListener("click",function(n){var r=t.value;""==r||this.disabled||(e.classList.add("start-search"),"undefined"!=typeof d&&d.classList.remove("fold-out"),s("lock"),i(r))},!1),t.addEventListener("keydown",function(e){13==e.keyCode&&n.click()},!1))},i=function(e){var t=new XMLHttpRequest;t.open("GET","https://node-ten-tweets.herokuapp.com/"+e),t.onreadystatechange=function(e){t.readyState==XMLHttpRequest.DONE&&(200==t.status?o(JSON.parse(t.responseText)):400==xmlhttp.status?alert("There was an error 400"):alert("There is an error. Please check your internet connection or Twitter API credentials"))},t.send()},o=function(e){if(r.innerHTML=null,"undefined"==typeof e.errors||e.errors.length<1){d=document.createElement("ul"),d.classList.add("twitter__tweet-list");var t=e.statuses;if(0==t.length){var n=t[i],a=document.createElement("li");a.classList.add("twitter__tweet-item"),a.appendChild(document.createTextNode("Nothing was found :(")),d.appendChild(a)}else for(var i=0;t.length>i;i++){var n=t[i],a=document.createElement("li");a.classList.add("twitter__tweet-item"),a.appendChild(document.createTextNode(n.text));var o=document.createElement("img"),l=document.createElement("div");l.classList.add("twitter__tweet-profile-image"),o.setAttribute("src",n.user.profile_image_url),l.appendChild(o),a.appendChild(l);var c=document.createElement("div");c.classList.add("twitter__tweet-profile-name"),c.appendChild(document.createTextNode("- "+n.user.name)),a.appendChild(c),d.appendChild(a)}}else{var u=document.createElement("p");u.appendChild(document.createTextNode("Response error")),d.appendChild(u)}r.appendChild(d),void window.getComputedStyle(d,null).getPropertyValue("opacity"),d.classList.add("fold-out"),s("unlock");var p=window.scrollX,m=window.scrollY;r.focus(),window.scrollTo(p,m)},s=function(r){var d=!1;return"lock"==r?(e.classList.add("loading"),t.disabled=!0,n.disabled=!0,d=!0):"unlock"==r&&(e.classList.remove("loading"),t.disabled=!1,n.disabled=!1,d=!1),d};return{init:a}}();document.addEventListener("DOMContentLoaded",function(){TenTweets.init()});